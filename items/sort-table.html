<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026æ°‘èˆªæ‹›é£PATæ–°é¢˜å‹ - æ•°å­—æ’åºæµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, #1e88e5 0%, #1565c0 100%);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(30, 136, 229, 0.3);
            text-align: center;
        }

        .header h1 {
            color: white;
            font-size: 28px;
            margin-bottom: 8px;
        }

        .header h2 {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            font-weight: normal;
        }

        .instruction {
            background: #e3f2fd;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #1e88e5;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .instruction h3 {
            color: #1565c0;
            margin-bottom: 12px;
            font-size: 18px;
            font-weight: 600;
        }

        .instruction p {
            color: #424242;
            line-height: 1.8;
            font-size: 15px;
        }

        .main-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 25px;
            justify-content: center;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .controls label {
            font-weight: bold;
            color: #333;
            white-space: nowrap;
        }

        .controls select {
            padding: 10px 15px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .controls select:hover {
            border-color: #667eea;
        }

        .controls select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 14px 35px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #1e88e5;
            color: white;
        }

        .btn:hover {
            background: #1565c0;
            box-shadow: 0 4px 12px rgba(30, 136, 229, 0.4);
        }
        
        .btn-secondary {
            background: #78909c;
        }
        
        .btn-secondary:hover {
            background: #607d8b;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .grid {
            display: grid;
            gap: 8px;
            margin: 30px auto;
            max-width: 600px;
            width: 100%;
        }

        .grid button {
            width: 100%;
            aspect-ratio: 1 / 1;
            padding: 0;
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            background: white;
            color: #1e88e5;
            border: 3px solid #e3f2fd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .grid button:hover:not(.hidden):not(:disabled) {
            background: #e3f2fd;
            border-color: #1e88e5;
            transform: scale(1.05);
        }

        .grid button.hidden {
            background: #eceff1;
            color: #eceff1;
            border-color: #cfd8dc;
            cursor: default;
            box-shadow: none;
        }

        .grid button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .result h2 {
            color: #1565c0;
            font-size: 26px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .result-info {
            background: #e3f2fd;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #bbdefb;
        }

        .result-info p {
            font-size: 18px;
            color: #424242;
            margin-bottom: 10px;
        }

        .result-info .time {
            font-size: 36px;
            font-weight: 700;
            color: #1e88e5;
            margin: 15px 0;
        }

        .result-table-title {
            text-align: center;
            color: #1565c0;
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px 0;
        }

        table {
            max-width: 500px;
            width: 100%;
            border-collapse: collapse;
            margin: 0 auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        td {
            border: 2px solid #e0e0e0;
            padding: 12px;
            text-align: center;
            font-size: 16px;
            background: white;
        }

        td > div {
            line-height: 1.4;
        }

        .stats-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid #e0e0e0;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background: #fafafa;
            min-width: 120px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 700;
            color: #1e88e5;
        }

        .stat-label {
            font-size: 14px;
            color: #757575;
            margin-top: 8px;
        }

        .timer {
            text-align: center;
            font-size: 22px;
            color: #1e88e5;
            font-weight: 600;
            margin: 20px 0;
            padding: 18px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e3f2fd;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 22px;
            }

            .header h2 {
                font-size: 16px;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .control-group {
                width: 100%;
                justify-content: space-between;
            }

            .grid {
                max-width: 100%;
            }

            .grid button {
                font-size: 18px;
            }

            table {
                font-size: 14px;
            }

            td {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>2026æ°‘èˆªæ‹›é£PATæ–°é¢˜å‹</h1>
            <h2>æ•°å­—æ’åºæµ‹è¯•</h2>
        </div>

        <div class="instruction">
            <h3>æµ‹è¯•æ–¹æ³•è¯´æ˜</h3>
            <p>å±å¹•ä¸Šä¼šæ˜¾ç¤ºä¸€ä¸ªç½‘æ ¼ï¼Œå…¶ä¸­åŒ…å«éšæœºæ’åˆ—çš„æ•°å­—ã€‚åœ¨è§„å®šæ—¶é—´å†…è®°ä½è¿™äº›æ•°å­—çš„ä½ç½®ï¼Œæ—¶é—´ç»“æŸåæ•°å­—ä¼šè¢«éšè—ï¼Œè¯·æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºç‚¹å‡»æ•°å­—ã€‚</p>
        </div>

        <div class="main-section">
            <div class="controls">
                <div class="control-group">
                    <label for="grid-size">è¡¨æ ¼å¤§å°:</label>
                    <select id="grid-size">
                        <option value="6">6x6</option>
                        <option value="8">8x8</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="number-count">æ•°å­—é‡:</label>
                    <select id="number-count">
                        <option value="8">1-8</option>
                        <option value="10">1-10</option>
                        <option value="12">1-12</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="time-limit">è®°å¿†æ—¶é—´:</label>
                    <select id="time-limit">
                        <option value="6">6ç§’</option>
                        <option value="8">8ç§’</option>
                        <option value="10">10ç§’</option>
                    </select>
                </div>
                <button class="btn" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
            </div>

            <div id="timer" class="timer" style="display: none;"></div>

            <div id="grid-container" class="grid" style="display: none;"></div>
        </div>

        <div id="result" class="result" style="display: none;"></div>

        <div class="stats-section">
            <div class="stat-item">
                <div class="stat-value" id="testCount">0</div>
                <div class="stat-label">æµ‹è¯•æ¬¡æ•°</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="avgTime">0.00ç§’</div>
                <div class="stat-label">å¹³å‡ç”¨æ—¶</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="bestTime">--</div>
                <div class="stat-label">æœ€ä½³æˆç»©</div>
            </div>
        </div>
    </div>

    <script>
        let gridSize = 6;
        let numberCount = 8;
        let timeLimit = 6;
        let numbers = [];
        let userClicks = [];
        let startTime;
        let timerInterval;
        let remainingTime;
        
        // ç»Ÿè®¡æ•°æ®
        let stats = {
            testCount: 0,
            totalTime: 0,
            bestTime: null
        };

        function startTest() {
            gridSize = parseInt(document.getElementById('grid-size').value, 10);
            numberCount = parseInt(document.getElementById('number-count').value, 10);
            timeLimit = parseInt(document.getElementById('time-limit').value, 10);

            userClicks = [];
            remainingTime = timeLimit;

            generateNumbers();
            renderGrid();

            document.getElementById('grid-container').style.display = 'grid';
            document.getElementById('grid-container').style.gridTemplateColumns = `repeat(${gridSize}, 1fr)`;
            document.getElementById('result').style.display = 'none';
            document.getElementById('timer').style.display = 'block';

            updateTimer();
            timerInterval = setInterval(() => {
                remainingTime--;
                updateTimer();
                if (remainingTime <= 0) {
                    clearInterval(timerInterval);
                    hideNumbers();
                }
            }, 1000);
        }

        function updateTimer() {
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `â±ï¸ è®°å¿†æ—¶é—´: ${remainingTime} ç§’`;
            if (remainingTime <= 3) {
                timerElement.style.color = '#f44336';
            } else {
                timerElement.style.color = '#667eea';
            }
        }

        function generateNumbers() {
            numbers = Array.from({ length: gridSize * gridSize }, (_, i) => i + 1);
            numbers = numbers.sort(() => Math.random() - 0.5);
        }

        function renderGrid() {
            const gridContainer = document.getElementById('grid-container');
            gridContainer.innerHTML = '';
            numbers.forEach((num, index) => {
                const button = document.createElement('button');
                button.textContent = num;
                button.dataset.value = num;
                button.onclick = () => handleClick(num, button);
                gridContainer.appendChild(button);
            });
        }

        function hideNumbers() {
            const buttons = document.querySelectorAll('#grid-container button');
            buttons.forEach(button => {
                if (button.textContent !== '') {
                    button.classList.add('hidden');
                }
            });
            document.getElementById('timer').style.display = 'none';
            startTime = Date.now();
        }

        function handleClick(value, button) {
            if (value === '') return;

            userClicks.push(parseInt(value, 10));
            button.disabled = true;

            if (userClicks.length === numberCount) {
                endTest();
            }
        }

        function endTest() {
            clearInterval(timerInterval);
            const endTime = Date.now();
            const timeTaken = ((endTime - startTime) / 1000).toFixed(2);
            const correct = userClicks.every((val, index) => val === index + 1);

            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            stats.testCount++;
            stats.totalTime += parseFloat(timeTaken);
            if (stats.bestTime === null || parseFloat(timeTaken) < stats.bestTime) {
                stats.bestTime = parseFloat(timeTaken);
            }
            updateStats();

            document.getElementById('grid-container').style.display = 'none';
            document.getElementById('timer').style.display = 'none';
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            
            let feedback = '';
            if (correct) {
                feedback = '<p style="color: #4caf50; font-size: 20px; font-weight: bold; margin: 15px 0;">ğŸ‰ å®Œå…¨æ­£ç¡®ï¼</p>';
            } else {
                const correctCount = userClicks.filter((val, index) => val === index + 1).length;
                const accuracy = Math.round((correctCount / numberCount) * 100);
                feedback = `<p style="color: #f44336; font-size: 20px; font-weight: bold; margin: 15px 0;">âŒ æ­£ç¡®ç‡: ${accuracy}%</p>`;
            }

            resultDiv.innerHTML = `
                <h2>æµ‹è¯•ç»“æœ</h2>
                <div class="result-info">
                    ${feedback}
                    <p>å®Œæˆç”¨æ—¶:</p>
                    <div class="time">${timeTaken} ç§’</div>
                </div>
                <div class="result-table-title">ğŸ“Š å®Œæ•´è¡¨æ ¼å¯¹ç…§</div>
                <table>
                    ${generateResultTable()}
                </table>
                <div style="text-align: center; margin-top: 25px;">
                    <button class="btn" onclick="startTest()">å†æµ‹ä¸€æ¬¡</button>
                </div>
            `;
        }

        function updateStats() {
            document.getElementById('testCount').textContent = stats.testCount;
            const avgTime = stats.testCount > 0 ? (stats.totalTime / stats.testCount).toFixed(2) : '0.00';
            document.getElementById('avgTime').textContent = avgTime + 'ç§’';
            document.getElementById('bestTime').textContent = stats.bestTime !== null ? stats.bestTime.toFixed(2) + 'ç§’' : '--';
        }

        function generateResultTable() {
            let tableHTML = '';
            for (let i = 0; i < gridSize; i++) {
                tableHTML += '<tr>';
                for (let j = 0; j < gridSize; j++) {
                    const value = numbers[i * gridSize + j];

                    if (value <= numberCount) {
                        // value æ˜¯è¿™ä¸ªä½ç½®çš„åŸå§‹æ•°å­—ï¼ˆç»¿è‰²ï¼‰
                        // æ‰¾å‡ºç”¨æˆ·åœ¨ç¬¬å‡ æ­¥ç‚¹å‡»äº†è¿™ä¸ªæ•°å­—
                        const clickOrder = userClicks.indexOf(value) + 1; // ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæ•°å­—çš„é¡ºåºï¼ˆç¬¬å‡ æ­¥ï¼‰

                        if (clickOrder > 0) {
                            // ç”¨æˆ·ç‚¹å‡»äº†è¿™ä¸ªæ•°å­—
                            const isCorrect = clickOrder === value; // ç¬¬valueæ­¥ç‚¹å‡»äº†æ•°å­—valueï¼Œåˆ™æ­£ç¡®

                            if (isCorrect) {
                                // ç‚¹å‡»æ­£ç¡®ï¼Œåªæ˜¾ç¤ºç»¿è‰²çš„åŸå§‹æ•°å­—
                                tableHTML += `<td style="border: 1px solid #333; padding: 10px; text-align: center; color: green; font-weight: bold;">${value}</td>`;
                            } else {
                                // ç‚¹å‡»é”™è¯¯ï¼Œæ˜¾ç¤ºç»¿è‰²åŸå§‹æ•°å­— + çº¢è‰²ç‚¹å‡»é¡ºåº
                                tableHTML += `<td style="border: 1px solid #333; padding: 10px; text-align: center;">
                                    <div style="color: green; font-weight: bold;">${value}</div>
                                    <div style="color: red; font-size: 14px;">${clickOrder}</div>
                                </td>`;
                            }
                        } else {
                            // ç”¨æˆ·æœªç‚¹å‡»è¿™ä¸ªæ•°å­—ï¼Œæ˜¾ç¤ºç”¨æˆ·åœ¨ç¬¬valueæ­¥å®é™…ç‚¹å‡»äº†ä»€ä¹ˆ
                            const actualClick = userClicks[value - 1]; // ç”¨æˆ·åœ¨ç¬¬valueæ­¥ç‚¹å‡»çš„æ•°å­—
                            tableHTML += `<td style="border: 1px solid #333; padding: 10px; text-align: center;">
                                <div style="color: green; font-weight: bold;">${value}</div>
                                <div style="color: red; font-size: 14px;">${actualClick !== undefined ? actualClick : 'æœªç‚¹å‡»'}</div>
                            </td>`;
                        }
                    } else {
                        // è¶…å‡ºé€‰æ‹©èŒƒå›´çš„æ•°å­—ï¼Œç”¨é»‘è‰²æ˜¾ç¤º
                        tableHTML += `<td style="border: 1px solid #333; padding: 10px; text-align: center; color: black;">${value}</td>`;
                    }
                }
                tableHTML += '</tr>';
            }
            return tableHTML;
        }
    </script>
</body>
</html>